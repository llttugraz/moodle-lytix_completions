{{!
  This file is part of Moodle - http://moodle.org/

  Moodle is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Moodle is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
  @template lytix_completions/activity_completion

  Activity completion table.

  The purpose of this template is to render a table for the Activity Completion.

  Classes required for JS:
  * lytix_completions/activity_completion

  Data attributes required for JS:
  * none

  Context variables required for this template:
  * none

  Example context (json):
  {
      "Activity": "Quiz",
      "Name": "Quiz 1",
      "Total": "30",
      "Compl.": "1",
      "Open": "29"
  }

}}

<div id='activity-filter' class='d-flex flex-wrap'>
    <span class='filter d-flex align-items-center'>{{#str}}completion_filter, lytix_completions{{/str}}:</span>
{{#filters}}
    <div class='filter d-flex align-items-center'>
        <input type='checkbox' id='{{{id}}}' data-module='{{{module}}}'{{^hidden}} checked{{/hidden}}>
        <label for='{{{id}}}'>{{{label}}}</label>
    </div>
{{/filters}}
</div>
<table class="table table-striped table-scrollable" id="quiz-entries-table">
    <thead id='activity-completion-head'>
        <tr>
            <th class='activity sorted' data-criterium='module' data-order='descending' scope='col'>
                <span class='sorting-link'>{{#str}}statistic_label_activity, lytix_completions{{/str}}</span>
                <svg class='sorting-icon' viewBox='0 0 10 7'><use href='#sorting-arrow' x='0' y='0'/></svg>
            </th>
            <th class='name' data-criterium='name' data-order='descending' scope='col'>
                <svg class='sorting-icon' viewBox='0 0 10 7'><use href='#sorting-arrow' x='0' y='0'/></svg>
                <span class='sorting-link'>{{#str}}statistic_label_name, lytix_completions{{/str}}</span>
            </th>
            <th class='total' scope='col'>
                <abbr title='{{#str}}statistic_label_total, lytix_completions{{/str}}'>{{#str}}statistic_label_total_abbr, lytix_completions{{/str}}</abbr>
            </th>
            <th class='done' data-criterium='done' data-order='ascending' scope='col'>
                <svg class='sorting-icon' viewBox='0 0 10 7'><use href='#sorting-arrow' x='0' y='0'/></svg>
                <abbr class='sorting-link' title='{{#str}}statistic_label_done, lytix_completions{{/str}}'>{{#str}}statistic_label_done_abbr, lytix_completions{{/str}}</abbr>
            </th>
            <th></th>
            <th class='open' data-criterium='open' data-order='ascending' scope='col'>
                <svg class='sorting-icon' viewBox='0 0 10 7'><use href='#sorting-arrow' x='0' y='0'/></svg>
                <span class='sorting-link'>{{#str}}statistic_label_open, lytix_completions{{/str}}</span>
            </th>
        </tr>
    </thead>
    <tbody id='activity-completion-entries'>
        {{#entries}}
        <tr>
            <td class='activity'>{{type}}</td>
            <td class='name'><a href='/mooc/mod/{{{module}}}/view.php?id={{{id}}}'>{{name}}</a></td>
            <td class='total'>{{total}}</td>
            <td class='done'>{{done}}</td>
            <td>
                <div class='bar-chart'>
                    <div class='done-bar' style='width:{{{donePercentage}}}%;'></div>
                </div>
            </td>
            <td class='open'>{{open}}</td>
        </tr>
        {{/entries}}
    </tbody>
</table>

<a id="export-table-button" class="btn btn-primary" tabindex='0'>{{#str}}statistic_label_export, lytix_completions{{/str}}</a>
